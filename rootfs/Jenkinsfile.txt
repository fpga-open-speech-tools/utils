Skip to content
Search or jump toâ€¦

Pull requests
Issues
Marketplace
Explore
 
@dack-fe 
fpga-open-speech-tools
/
utils
3
0
0
Code
Issues
3
Pull requests
3
Actions
Projects
Wiki
Security
Insights
utils/frost_edge/Jenkinsfile
@dack-fe
dack-fe Added Clone Utils step
Latest commit 507e6e3 1 hour ago
 History
 1 contributor
74 lines (74 sloc)  2.49 KB
  
pipeline
{
    agent none
    stages
    {
        stage ('DE10 5.4.34 Ubunt 18.04.5')
        {
            agent {label 'DE10-5.4.34-Ubuntu_18.04.5_LTS'}
            stages 
            {
                stage('Build Root File System')
                {
                    steps
                    {   dir("rootfs")
                        {
                            sh 'dos2unix docker_build.sh;'
                            sh 'dos2unix build_rootfs.sh;'
                            sh './docker_build.sh;'
                        }
                    }
                }
                stage('Archive')
                {
                    steps
                    {
                        dir("rootfs/")
                        {
                            archiveArtifacts artifacts: 'rootfs.tar.gz', fingerprint: true
                        }
                    }
                }
                stage('Cleanup')
                {
                    steps
                    {
                        deleteDir()
                        dir("${workspace}@tmp") {
                            deleteDir()
                        }
                    }
                } 
            }
        }
    }
}